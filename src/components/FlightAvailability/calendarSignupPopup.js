import React, { useState } from 'react'
import { Modal } from 'semantic-ui-react'
import PropTypes from 'prop-types'
import { Close } from 'utils/svgs'
import { FbIconPopup, AppleIconPopup, GoogleIconPopup } from 'utils/svgs'

const CalendarSignupPopup = (props) => {
  const { calendarSignupModal, updateReducerState } = props
  const [closeCounter, setCloseCounter] = useState(0)

  return (
    <Modal
      open={calendarSignupModal}
      onClose={() => {
          setCloseCounter(closeCounter + 1)
          updateReducerState('flights', 'calendarSignupModal', false)
        }}
      closeIcon={
        closeCounter < 1 &&
        <div>
          <Close className="cst-popup__close" />
        </div>
      }
      closeOnDimmerClick={false}
      className="cst-popup cal-popup"
      closeOnEscape={false}
    >
      <Modal.Content className="p-0 mb-2">
        <>
          <div className="top-content">
            <div className="desktop-only">
              <p><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clipPath="url(#clip0_461:12681)">
                  <path d="M14.2844 2.62585C13.7147 2.2738 13.0169 2.24246 12.4178 2.54199L9.98766 3.75702L3.27682 0.177826C2.59611 -0.184818 1.6765 -0.00239776 1.33873 0.813521C1.13337 1.3087 1.24566 1.87368 1.62489 2.25291L5.41521 6.04322L2.50474 7.49848L1.76912 6.39506C1.68656 6.27122 1.54756 6.19682 1.39873 6.19682H0.445144C0.199306 6.19682 0 6.39613 0 6.64197V8.41518C0 9.31963 0.45927 10.1435 1.22875 10.6192C2.4688 11.3849 3.61804 10.7981 3.74939 10.7325L14.5217 5.34607C14.6164 5.2987 15.1942 4.99206 15.1942 4.25778C15.1942 3.58801 14.8541 2.97796 14.2844 2.62585ZM2.25445 1.62339C2.13087 1.49981 2.09425 1.31582 2.1612 1.15432C2.27086 0.889433 2.58154 0.816162 2.85803 0.963446L9.01126 4.24522L6.2546 5.62354L2.25445 1.62339ZM14.1235 4.54982L3.35134 9.93612C2.82028 10.2014 2.20168 10.1736 1.69668 9.86175C1.19174 9.54962 0.890288 9.00883 0.890288 8.41518V7.08711H1.16049L1.98193 8.3193C2.10645 8.50614 2.35063 8.5709 2.55139 8.47053L12.8159 3.33832C13.1371 3.17777 13.511 3.19454 13.8163 3.38319C14.1171 3.56905 14.304 3.90418 14.304 4.25778C14.304 4.27051 14.3074 4.45783 14.1235 4.54982Z" fill="#132C52"/>
                  <path d="M14.7491 14.3037H0.445144C0.199306 14.3037 0 14.503 0 14.7489C0 14.9947 0.199306 15.194 0.445144 15.194H14.7491C14.9949 15.194 15.1942 14.9947 15.1942 14.7489C15.1942 14.503 14.9949 14.3037 14.7491 14.3037Z" fill="#132C52"/>
                  <path d="M0.474854 9.02137V7.12209L1.42449 6.64727L2.37413 8.07173L6.1727 6.17245L2.37413 2.37389L1.89931 1.42425L2.37413 0.474609H3.32377L9.97126 4.27317L10.9209 3.79835L13.7698 2.84871L14.7195 3.79835L14.2446 4.74799L3.32377 10.4458H1.89931L0.474854 9.02137Z" fill="#132C52"/>
                </g>
                <defs>
                  <clipPath id="clip0_461:12681">
                    <rect width="15.1942" height="15.1942" fill="white"/>
                  </clipPath>
                </defs>
                 </svg>
                Outbound
              </p>
              <p>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clipPath="url(#clip0_461:12681)">
                    <path d="M14.2844 2.62585C13.7147 2.2738 13.0169 2.24246 12.4178 2.54199L9.98766 3.75702L3.27682 0.177826C2.59611 -0.184818 1.6765 -0.00239776 1.33873 0.813521C1.13337 1.3087 1.24566 1.87368 1.62489 2.25291L5.41521 6.04322L2.50474 7.49848L1.76912 6.39506C1.68656 6.27122 1.54756 6.19682 1.39873 6.19682H0.445144C0.199306 6.19682 0 6.39613 0 6.64197V8.41518C0 9.31963 0.45927 10.1435 1.22875 10.6192C2.4688 11.3849 3.61804 10.7981 3.74939 10.7325L14.5217 5.34607C14.6164 5.2987 15.1942 4.99206 15.1942 4.25778C15.1942 3.58801 14.8541 2.97796 14.2844 2.62585ZM2.25445 1.62339C2.13087 1.49981 2.09425 1.31582 2.1612 1.15432C2.27086 0.889433 2.58154 0.816162 2.85803 0.963446L9.01126 4.24522L6.2546 5.62354L2.25445 1.62339ZM14.1235 4.54982L3.35134 9.93612C2.82028 10.2014 2.20168 10.1736 1.69668 9.86175C1.19174 9.54962 0.890288 9.00883 0.890288 8.41518V7.08711H1.16049L1.98193 8.3193C2.10645 8.50614 2.35063 8.5709 2.55139 8.47053L12.8159 3.33832C13.1371 3.17777 13.511 3.19454 13.8163 3.38319C14.1171 3.56905 14.304 3.90418 14.304 4.25778C14.304 4.27051 14.3074 4.45783 14.1235 4.54982Z" fill="#132C52"/>
                    <path d="M14.7491 14.3037H0.445144C0.199306 14.3037 0 14.503 0 14.7489C0 14.9947 0.199306 15.194 0.445144 15.194H14.7491C14.9949 15.194 15.1942 14.9947 15.1942 14.7489C15.1942 14.503 14.9949 14.3037 14.7491 14.3037Z" fill="#132C52"/>
                    <path d="M0.474854 9.02137V7.12209L1.42449 6.64727L2.37413 8.07173L6.1727 6.17245L2.37413 2.37389L1.89931 1.42425L2.37413 0.474609H3.32377L9.97126 4.27317L10.9209 3.79835L13.7698 2.84871L14.7195 3.79835L14.2446 4.74799L3.32377 10.4458H1.89931L0.474854 9.02137Z" fill="#132C52"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_461:12681">
                      <rect width="15.1942" height="15.1942" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
                Inbound
              </p>
            </div>
            <div className="mobile-only">
              <p>
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.2814 2.07382C10.8315 1.79579 10.2804 1.77104 9.80726 2.00759L7.88798 2.96719L2.58795 0.140442C2.05034 -0.145964 1.32405 -0.00189368 1.05729 0.642497C0.895102 1.03358 0.983789 1.47978 1.2833 1.77929L4.27678 4.77277L1.97817 5.9221L1.3972 5.05065C1.332 4.95284 1.22222 4.89408 1.10468 4.89408H0.351562C0.157406 4.89408 0 5.05149 0 5.24565V6.64608C0 7.36039 0.362719 8.01104 0.97043 8.38672C1.94979 8.9915 2.85743 8.52802 2.96116 8.4762L11.4688 4.22218C11.5436 4.18477 12 3.94259 12 3.36268C12 2.83372 11.7314 2.35191 11.2814 2.07382ZM1.7805 1.28211C1.68291 1.18451 1.65398 1.0392 1.70686 0.911653C1.79346 0.70245 2.03883 0.644583 2.2572 0.760903L7.11684 3.35276L4.93971 4.44132L1.7805 1.28211ZM11.1544 3.59333L2.6468 7.84728C2.22738 8.05681 1.73883 8.0348 1.33999 7.78854C0.941203 7.54203 0.703125 7.11493 0.703125 6.64608V5.59721H0.916523L1.56527 6.57036C1.66362 6.71792 1.85646 6.76906 2.01502 6.68979L10.1216 2.63651C10.3753 2.50972 10.6706 2.52296 10.9117 2.67195C11.1493 2.81874 11.2969 3.08342 11.2969 3.36268C11.2969 3.37273 11.2996 3.52067 11.1544 3.59333Z" fill="#03B2D8"/>
                  <path d="M11.6484 11H0.351562C0.157406 11 0 11.1574 0 11.3516C0 11.5457 0.157406 11.7031 0.351562 11.7031H11.6484C11.8426 11.7031 12 11.5457 12 11.3516C12 11.1574 11.8426 11 11.6484 11Z" fill="#03B2D8"/>
                </svg>
                Outbound
              </p>
              <p className="inbound-text">
                <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.5533 10.1364C12.4474 9.61827 12.0877 9.2 11.5912 9.01758L9.57698 8.27764L8.00296 2.4808C7.84306 1.89302 7.24038 1.46288 6.58831 1.71026C6.19236 1.86019 5.92822 2.23058 5.91539 2.65396L5.78717 6.88544L3.37484 5.9993L3.61126 4.97898C3.63779 4.86447 3.60534 4.74425 3.52478 4.65866L3.00862 4.11024C2.87555 3.96886 2.65305 3.96211 2.51166 4.09518L1.49187 5.05499C0.971709 5.54455 0.746502 6.25461 0.889435 6.95463C1.12025 8.08229 2.07982 8.42559 2.18865 8.46561L11.1173 11.7453C11.1958 11.7742 11.6849 11.9405 12.1072 11.5431C12.4924 11.1805 12.6591 10.6547 12.5533 10.1364ZM6.61821 2.67527C6.62239 2.53732 6.70838 2.41666 6.8375 2.36775C7.04919 2.28743 7.2595 2.42645 7.32446 2.66519L8.7677 7.98035L6.48288 7.14102L6.61821 2.67527ZM11.3597 11.0853L2.43118 7.80565C1.99114 7.64383 1.67233 7.27299 1.57831 6.81378C1.48451 6.35442 1.63235 5.88834 1.97376 5.56701L2.73755 4.84814L2.88381 5.00354L2.61979 6.14292C2.57974 6.31567 2.67467 6.49115 2.84106 6.55228L11.3487 9.67756C11.6148 9.77536 11.8076 9.99951 11.8643 10.2772C11.9203 10.5508 11.8287 10.8397 11.6253 11.031C11.618 11.0379 11.5121 11.1413 11.3597 11.0853Z" fill="#97ADB6"/>
                  <path d="M12.9263 13H1.62939C1.43524 13 1.27783 13.1574 1.27783 13.3516C1.27783 13.5457 1.43524 13.7031 1.62939 13.7031H12.9263C13.1204 13.7031 13.2778 13.5457 13.2778 13.3516C13.2778 13.1574 13.1204 13 12.9263 13Z" fill="#97ADB6"/>
                </svg>
                Inbound
              </p>
            </div>
          </div>
          <div className="bottom-content w-100">
            <h2 className="px-3">See a full year ahead with a free account </h2>
            <button className="ui button btn btn--dark w-100">Sign Up</button>
          </div>
        </>
      </Modal.Content>
      <div className="cal-social-login-wrap">
        <GoogleIconPopup/>
        <FbIconPopup/>
        <AppleIconPopup/>
      </div>
    </Modal>
  )
}

CalendarSignupPopup.propTypes = {
  calendarSignupModal: PropTypes.bool,
  updateReducerState: PropTypes.func,
  handleRegister: PropTypes.func
}

export default CalendarSignupPopup
